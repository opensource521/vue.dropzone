{"version":3,"file":"vue2Dropzone.js","sources":["../src/services/urlsigner.js","../src/components/vue-dropzone.vue"],"sourcesContent":["export default {\r\n  getSignedURL(file, endpoint, headers) {\r\n    let payload = {\r\n      filePath: file.name,\r\n      contentType: file.type\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      let request = new XMLHttpRequest();\r\n      request.open(\"POST\", endpoint);\r\n      request.onload = function () {\r\n        if (request.status == 200) {\r\n          resolve(JSON.parse(request.response));\r\n        } else {\r\n          reject((request.statusText));\r\n        }\r\n      };\r\n      request.onerror = function (err) {\r\n        console.error(\"Network Error : Could not send request to AWS (Maybe CORS errors)\");\r\n        reject(err)\r\n      };\r\n      Object.entries(headers).forEach(([name, value]) => {\r\n        request.setRequestHeader(name, value);\r\n      });\r\n      request.send();\r\n    });\r\n  },\r\n  sendFile(file, endpoint, headers) {\r\n    var fd = new FormData();\r\n    return this.getSignedURL(file, endpoint, headers)\r\n      .then((response) => {\r\n        let signature = response.signature;\r\n        Object.keys(signature).forEach(function (key) {\r\n          fd.append(key, signature[key]);\r\n        });\r\n        fd.append('file', file);\r\n        return new Promise((resolve, reject) => {\r\n          let request = new XMLHttpRequest();\r\n          request.open('POST', response.postEndpoint);\r\n          request.onload = function () {\r\n            if (request.status == 201) {\r\n              var s3Error = (new window.DOMParser()).parseFromString(request.response, \"text/xml\");\r\n              var successMsg = s3Error.firstChild.children[0].innerHTML;\r\n              resolve({\r\n                'success': true,\r\n                'message': successMsg\r\n              })\r\n            } else {\r\n              var s3Error = (new window.DOMParser()).parseFromString(request.response, \"text/xml\");\r\n              var errMsg = s3Error.firstChild.children[0].innerHTML;\r\n              reject({\r\n                'success': false,\r\n                'message': errMsg + \". Request is marked as resolved when returns as status 201\"\r\n              })\r\n            }\r\n          };\r\n          request.onerror = function (err) {\r\n            var s3Error = (new window.DOMParser()).parseFromString(request.response, \"text/xml\");\r\n            var errMsg = s3Error.firstChild.children[1].innerHTML;\r\n            reject({\r\n              'success': false,\r\n              'message': errMsg\r\n            })\r\n          };\r\n          request.send(fd);\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        return error;\r\n      });\r\n  }\r\n}\r\n","<template>\r\n  <div v-bind:class=\"{ 'vue-dropzone dropzone': includeStyling }\" :id=\"id\" ref=\"dropzoneElement\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport awsEndpoint from '../services/urlsigner'\r\nexport default {\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    options: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    includeStyling: {\r\n      type: Boolean,\r\n      default: true,\r\n      required: false\r\n    },\r\n    awss3: {\r\n      type: Object,\r\n      required: false,\r\n      default: null\r\n    },\r\n    destroyDropzone: {\r\n      type: Boolean,\r\n      default: true,\r\n      required: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isS3: false,\r\n      wasQueueAutoProcess: true,\r\n    }\r\n  },\r\n  computed: {\r\n    dropzoneSettings() {\r\n      let defaultValues = {\r\n        thumbnailWidth: 200,\r\n        thumbnailHeight: 200\r\n      }\r\n      Object.keys(this.options).forEach(function(key) {\r\n        defaultValues[key] = this.options[key]\r\n      }, this)\r\n      if (this.awss3 !== null) {\r\n        defaultValues['autoProcessQueue'] = false;\r\n        this.isS3 = true;\r\n        if (this.options.autoProcessQueue !== undefined)\r\n          this.wasQueueAutoProcess = this.options.autoProcessQueue;\r\n      }\r\n      return defaultValues\r\n    }\r\n  },\r\n  methods: {\r\n    manuallyAddFile: function(file, fileUrl) {\r\n      file.manuallyAdded = true;\r\n      this.dropzone.emit(\"addedfile\", file);\r\n      fileUrl && this.dropzone.emit(\"thumbnail\", file, fileUrl);\r\n\r\n      var thumbnails = file.previewElement.querySelectorAll('[data-dz-thumbnail]');\r\n      for (var i = 0; i < thumbnails.length; i++) {\r\n        thumbnails[i].style.width = this.dropzoneSettings.thumbnailWidth + 'px';\r\n        thumbnails[i].style.height = this.dropzoneSettings.thumbnailHeight + 'px';\r\n        thumbnails[i].style['object-fit'] = 'contain';\r\n      }\r\n      this.dropzone.emit(\"complete\", file)\r\n      if (this.dropzone.options.maxFiles) this.dropzone.options.maxFiles--\r\n      this.dropzone.files.push(file)\r\n      this.$emit('vdropzone-file-added-manually', file)\r\n    },\r\n    setOption: function(option, value) {\r\n      this.dropzone.options[option] = value\r\n    },\r\n    removeAllFiles: function(bool) {\r\n      this.dropzone.removeAllFiles(bool)\r\n    },\r\n    processQueue: function() {\r\n      let dropzoneEle = this.dropzone;\r\n      if (this.isS3 && !this.wasQueueAutoProcess) {\r\n        this.getQueuedFiles().forEach((file) => {\r\n          this.getSignedAndUploadToS3(file);\r\n        });\r\n      } else {\r\n        this.dropzone.processQueue();\r\n      }\r\n      this.dropzone.on(\"success\", function() {\r\n        dropzoneEle.options.autoProcessQueue = true\r\n      });\r\n      this.dropzone.on('queuecomplete', function() {\r\n        dropzoneEle.options.autoProcessQueue = false\r\n      })\r\n    },\r\n    init: function() {\r\n      return this.dropzone.init();\r\n    },\r\n    destroy: function() {\r\n      return this.dropzone.destroy();\r\n    },\r\n    updateTotalUploadProgress: function() {\r\n      return this.dropzone.updateTotalUploadProgress();\r\n    },\r\n    getFallbackForm: function() {\r\n      return this.dropzone.getFallbackForm();\r\n    },\r\n    getExistingFallback: function() {\r\n      return this.dropzone.getExistingFallback();\r\n    },\r\n    setupEventListeners: function() {\r\n      return this.dropzone.setupEventListeners();\r\n    },\r\n    removeEventListeners: function() {\r\n      return this.dropzone.removeEventListeners();\r\n    },\r\n    disable: function() {\r\n      return this.dropzone.disable();\r\n    },\r\n    enable: function() {\r\n      return this.dropzone.enable();\r\n    },\r\n    filesize: function(size) {\r\n      return this.dropzone.filesize(size);\r\n    },\r\n    accept: function(file, done) {\r\n      return this.dropzone.accept(file, done);\r\n    },\r\n    addFile: function(file) {\r\n      return this.dropzone.addFile(file);\r\n    },\r\n    removeFile: function(file) {\r\n      this.dropzone.removeFile(file)\r\n    },\r\n    getAcceptedFiles: function() {\r\n      return this.dropzone.getAcceptedFiles()\r\n    },\r\n    getRejectedFiles: function() {\r\n      return this.dropzone.getRejectedFiles()\r\n    },\r\n    getFilesWithStatus: function() {\r\n      return this.dropzone.getFilesWithStatus()\r\n    },\r\n    getQueuedFiles: function() {\r\n      return this.dropzone.getQueuedFiles()\r\n    },\r\n    getUploadingFiles: function() {\r\n      return this.dropzone.getUploadingFiles()\r\n    },\r\n    getAddedFiles: function() {\r\n      return this.dropzone.getAddedFiles()\r\n    },\r\n    getActiveFiles: function() {\r\n      return this.dropzone.getActiveFiles()\r\n    },\r\n    getSignedAndUploadToS3(file) {\r\n      awsEndpoint.sendFile(file, this.awss3.signingURL, this.awss3.headers)\r\n        .then((response) => {\r\n          if (response.success) {\r\n            file.s3ObjectLocation = response.message\r\n            setTimeout(() => this.dropzone.processFile(file))\r\n            this.$emit('vdropzone-s3-upload-success', response.message);\r\n          } else {\r\n            if ('undefined' !== typeof message) {\r\n              this.$emit('vdropzone-s3-upload-error', response.message);\r\n            } else {\r\n              this.$emit('vdropzone-s3-upload-error', \"Network Error : Could not send request to AWS. (Maybe CORS error)\");\r\n            }\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          alert(error);\r\n        });\r\n    },\r\n    setAWSSigningURL(location) {\r\n      if (this.isS3) {\r\n        this.awss3.signingURL = location;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    if (this.$isServer && this.hasBeenMounted) {\r\n      return\r\n    }\r\n    this.hasBeenMounted = true\r\n    let Dropzone = require('dropzone') //eslint-disable-line\r\n    Dropzone.autoDiscover = false\r\n    this.dropzone = new Dropzone(this.$refs.dropzoneElement, this.dropzoneSettings)\r\n    let vm = this\r\n\r\n    this.dropzone.on('thumbnail', function(file, dataUrl) {\r\n      vm.$emit('vdropzone-thumbnail', file, dataUrl)\r\n    })\r\n\r\n    this.dropzone.on('addedfile', function(file) {\r\n      if (vm.duplicateCheck) {\r\n        if (this.files.length) {\r\n          this.files.forEach(function(dzfile) {\r\n            if (dzfile.name === file.name) {\r\n              this.removeFile(file)\r\n              vm.$emit('duplicate-file', file)\r\n            }\r\n          }, this)\r\n        }\r\n      }\r\n      vm.$emit('vdropzone-file-added', file)\r\n      if (vm.isS3 && vm.wasQueueAutoProcess) {\r\n        vm.getSignedAndUploadToS3(file);\r\n      }\r\n    })\r\n\r\n    this.dropzone.on('addedfiles', function(files) {\r\n      vm.$emit('vdropzone-files-added', files)\r\n    })\r\n\r\n    this.dropzone.on('removedfile', function(file) {\r\n      vm.$emit('vdropzone-removed-file', file)\r\n      if (file.manuallyAdded) vm.dropzone.options.maxFiles++\r\n    })\r\n\r\n    this.dropzone.on('success', function(file, response) {\r\n      vm.$emit('vdropzone-success', file, response)\r\n      if (vm.isS3 && vm.wasQueueAutoProcess) {\r\n        vm.setOption('autoProcessQueue', false);\r\n      }\r\n    })\r\n\r\n    this.dropzone.on('successmultiple', function(file, response) {\r\n      vm.$emit('vdropzone-success-multiple', file, response)\r\n    })\r\n\r\n    this.dropzone.on('error', function(file, message, xhr) {\r\n      vm.$emit('vdropzone-error', file, message, xhr)\r\n    })\r\n\r\n    this.dropzone.on('errormultiple', function(files, message, xhr) {\r\n      vm.$emit('vdropzone-error-multiple', files, message, xhr)\r\n    })\r\n\r\n    this.dropzone.on('sending', function(file, xhr, formData) {\r\n      if (vm.isS3)\r\n        formData.append('s3ObjectLocation', file.s3ObjectLocation);\r\n      vm.$emit('vdropzone-sending', file, xhr, formData)\r\n    })\r\n\r\n    this.dropzone.on('sendingmultiple', function(file, xhr, formData) {\r\n      vm.$emit('vdropzone-sending-multiple', file, xhr, formData)\r\n    })\r\n\r\n    this.dropzone.on('complete', function(file) {\r\n      vm.$emit('vdropzone-complete', file)\r\n    })\r\n\r\n    this.dropzone.on('completemultiple', function(files) {\r\n      vm.$emit('vdropzone-complete-multiple', files)\r\n    })\r\n\r\n    this.dropzone.on('canceled', function(file) {\r\n      vm.$emit('vdropzone-canceled', file)\r\n    })\r\n\r\n    this.dropzone.on('canceledmultiple', function(files) {\r\n      vm.$emit('vdropzone-canceled-multiple', files)\r\n    })\r\n\r\n    this.dropzone.on('maxfilesreached', function(files) {\r\n      vm.$emit('vdropzone-max-files-reached', files)\r\n    })\r\n\r\n    this.dropzone.on('maxfilesexceeded', function(file) {\r\n      vm.$emit('vdropzone-max-files-exceeded', file)\r\n    })\r\n\r\n    this.dropzone.on('processing', function(file) {\r\n      vm.$emit('vdropzone-processing', file)\r\n    })\r\n\r\n    this.dropzone.on('processing', function(file) {\r\n      vm.$emit('vdropzone-processing', file)\r\n    })\r\n\r\n    this.dropzone.on('processingmultiple', function(files) {\r\n      vm.$emit('vdropzone-processing-multiple', files)\r\n    })\r\n\r\n    this.dropzone.on('uploadprogress', function(file, progress, bytesSent) {\r\n      vm.$emit('vdropzone-upload-progress', file, progress, bytesSent)\r\n    })\r\n\r\n    this.dropzone.on('totaluploadprogress', function(totaluploadprogress, totalBytes, totalBytesSent) {\r\n      vm.$emit('vdropzone-total-upload-progress', totaluploadprogress, totalBytes, totalBytesSent)\r\n    })\r\n\r\n    this.dropzone.on('reset', function() {\r\n      vm.$emit('vdropzone-reset')\r\n    })\r\n\r\n    this.dropzone.on('queuecomplete', function() {\r\n      vm.$emit('vdropzone-queue-complete')\r\n    })\r\n\r\n    this.dropzone.on('drop', function(event) {\r\n      vm.$emit('vdropzone-drop', event)\r\n    })\r\n\r\n    this.dropzone.on('dragstart', function(event) {\r\n      vm.$emit('vdropzone-drag-start', event)\r\n    })\r\n\r\n    this.dropzone.on('dragend', function(event) {\r\n      vm.$emit('vdropzone-drag-end', event)\r\n    })\r\n\r\n    this.dropzone.on('dragenter', function(event) {\r\n      vm.$emit('vdropzone-drag-enter', event)\r\n    })\r\n\r\n    this.dropzone.on('dragover', function(event) {\r\n      vm.$emit('vdropzone-drag-over', event)\r\n    })\r\n\r\n    this.dropzone.on('dragleave', function(event) {\r\n      vm.$emit('vdropzone-drag-leave', event)\r\n    })\r\n\r\n    vm.$emit('vdropzone-mounted')\r\n  },\r\n  beforeDestroy() {\r\n    if (this.destroyDropzone) this.dropzone.destroy()\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"less\">\r\n  @import (inline) '../../node_modules/dropzone/dist/dropzone.css';\r\n\r\n  .vue-dropzone {\r\n    border: 2px solid #E5E5E5;\r\n    font-family: 'Arial', sans-serif;\r\n    letter-spacing: 0.2px;\r\n    color: #777;\r\n    transition: background-color .2s linear;\r\n\r\n    &:hover {\r\n      background-color: #F6F6F6;\r\n    }\r\n\r\n    i {\r\n      color: #CCC;\r\n    }\r\n\r\n    .dz-preview {\r\n\r\n      .dz-image {\r\n        border-radius: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        img:not([src]) {\r\n          width: 200px;\r\n          height: 200px;\r\n        }\r\n        &:hover {\r\n          img {\r\n            transform: none;\r\n            -webkit-filter: none;\r\n          }\r\n        }\r\n      }\r\n\r\n      .dz-details {\r\n        bottom: 0;\r\n        top: 0;\r\n        color: white;\r\n        background-color: rgba(33, 150, 243, 0.8);\r\n        transition: opacity .2s linear;\r\n        text-align: left;\r\n        .dz-filename {\r\n          overflow: hidden;\r\n        }\r\n        .dz-filename span,\r\n        .dz-size span {\r\n          background-color: transparent;\r\n        }\r\n        .dz-filename:not(:hover) span {\r\n          border: none;\r\n        }\r\n        .dz-filename:hover span {\r\n          background-color: transparent;\r\n          border: none;\r\n        }\r\n      }\r\n\r\n      .dz-progress .dz-upload {\r\n        background: #cccccc;\r\n      }\r\n\r\n      .dz-remove {\r\n        position: absolute;\r\n        z-index: 30;\r\n        color: white;\r\n        margin-left: 15px;\r\n        padding: 10px;\r\n        top: inherit;\r\n        bottom: 15px;\r\n        border: 2px white solid;\r\n        text-decoration: none;\r\n        text-transform: uppercase;\r\n        font-size: 0.8rem;\r\n        font-weight: 800;\r\n        letter-spacing: 1.1px;\r\n        opacity: 0;\r\n      }\r\n\r\n      &:hover {\r\n        .dz-remove {\r\n          opacity: 1;\r\n        }\r\n      }\r\n\r\n      .dz-success-mark,\r\n      .dz-error-mark {\r\n        margin-left: auto;\r\n        margin-top: auto;\r\n        width: 100%;\r\n        top: 35%;\r\n        left: 0;\r\n        svg {\r\n          margin-left: auto;\r\n          margin-right: auto;\r\n        }\r\n      }\r\n\r\n      .dz-error-message {\r\n        top: calc(15%);\r\n        margin-left: auto;\r\n        margin-right: auto;\r\n        left: 0;\r\n        width: 100%;\r\n        &:after {\r\n          bottom: -6px;\r\n          top: initial;\r\n          border-top: 6px solid #a92222;\r\n          border-bottom: none;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n"],"names":["getSignedURL","file","endpoint","headers","name","type","Promise","resolve","reject","let","request","XMLHttpRequest","open","onload","status","JSON","parse","response","onerror","err","console","error","Object","entries","forEach","ref","value","setRequestHeader","send","sendFile","fd","FormData","this","then","signature","keys","key","append","postEndpoint","successMsg","window","DOMParser","parseFromString","firstChild","children","innerHTML","success","message","errMsg","catch","render","props","id","String","required","options","includeStyling","Boolean","default","awss3","destroyDropzone","data","isS3","wasQueueAutoProcess","computed","dropzoneSettings","defaultValues","thumbnailWidth","thumbnailHeight","undefined","autoProcessQueue","methods","manuallyAddFile","fileUrl","manuallyAdded","dropzone","emit","thumbnails","previewElement","querySelectorAll","i","length","style","width","height","maxFiles","files","push","$emit","setOption","option","removeAllFiles","bool","processQueue","dropzoneEle","getQueuedFiles","getSignedAndUploadToS3","on","init","destroy","updateTotalUploadProgress","getFallbackForm","getExistingFallback","setupEventListeners","removeEventListeners","disable","enable","filesize","size","accept","done","addFile","removeFile","getAcceptedFiles","getRejectedFiles","getFilesWithStatus","getUploadingFiles","getAddedFiles","getActiveFiles","awsEndpoint","signingURL","s3ObjectLocation","setTimeout","processFile","alert","setAWSSigningURL","location","mounted","$isServer","hasBeenMounted","Dropzone","require","autoDiscover","$refs","dropzoneElement","vm","dataUrl","duplicateCheck","dzfile","xhr","formData","progress","bytesSent","totaluploadprogress","totalBytes","totalBytesSent","event","beforeDestroy"],"mappings":"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"}